"undefined"!=typeof Dropbox&&$(".save-dropbox").click(function(e){e.preventDefault();var o=$(this).get(0).href;Dropbox.save(o)});
var hidden=$("tr.hidden");$(document).bind("keydown",function(d){d.altKey&&$(hidden).addClass("reveal").removeClass("hidden")}).bind("keyup",function(){$(hidden).removeClass("reveal").addClass("hidden")}),$(document).bind("keyup",function(d){70===d.which&&$("#search").focus()});
function set_modal(e,t,o,a){modal_body.html(e),full_view.attr("href",t),full_view.text(button),dropbox.attr("href",t),email.attr("href","mailto:?body="+o),twitter.attr("href","http://twitter.com/share?url="+o),facebook.attr("href","http://www.facebook.com/sharer/sharer.php?u="+o),google.attr("href","https://plus.google.com/share?url="+o),modal_title.text(decodeURIComponent(t)),a="undefined"!=typeof a?a:null,file_meta.text(a)}function modal_defaults(e){event.preventDefault();var t=e.attr("href"),o=e.get(0).href,a=e.data("modified");return[t,o,a]}function source_defaults(e){var t=modal_defaults(e),o=e.data("highlight");o!==!0&&$(".highlight").removeClass("hidden").removeAttr("disabled");var a=t[0].split(".").pop();return set_modal('<pre><code id="source" class="'+a+'" dir="ltr"></code></pre>',t[0],t[1],t[2]),[t[0],o]}var viewer=$("#viewer-modal"),modal_body=$(".modal-body"),modal_title=$(".modal-title"),file_meta=$("#file-meta"),full_view=$(".fullview"),button=full_view.data("button"),dropbox=$(".save-dropbox"),email=$(".email-link"),twitter=$(".twitter-link"),facebook=$(".facebook-link"),google=$(".google-link");$(".audio-modal").click(function(e){var t=modal_defaults($(this));set_modal('<audio src="'+t[0]+'" id="player" autoplay controls>Your browser does not support the audio element.</audio>',t[0],t[1],t[2]),viewer.modal("show")}),$(".flash-modal").click(function(e){var t=modal_defaults($(this));set_modal('<div class="viewer-wrapper"><object width="100%" height="100%" type="application/x-shockwave-flash" data="'+t[0]+'"><param name="movie" value="'+t[0]+'"><param name="quality" value="high"></object></div>',t[0],t[1],t[2]),viewer.modal("show")}),$(".image-modal").click(function(e){var t=modal_defaults($(this));set_modal('<img src="'+t[0]+'"/>',t[0],t[1],t[2]),viewer.modal("show")}),$(".video-modal").click(function(e){var t=modal_defaults($(this));set_modal('<video src="'+t[0]+'" id="player" autoplay controls>Video format or MIME type is not supported</video>',t[0],t[1],t[2]),viewer.modal("show")}),$(".quicktime-modal").click(function(e){var t=modal_defaults($(this));set_modal('<div class="viewer-wrapper"><embed width="100%" height="100%" src="'+t[0]+'" type="video/quicktime" controller="true" showlogo="false" scale="aspect"></div>',t[0],t[1],t[2]),viewer.modal("show")}),$(".source-modal").click(function(e){arr=source_defaults($(this)),$.ajax(arr[0],{dataType:"text",success:function(e){$("#source").text(decodeURIComponent(e)),arr[1]===!0&&$("#source").each(function(e,t){hljs.highlightBlock(t)})}}).done(function(){viewer.modal("show")})}),$(".source-modal-alt").click(function(e){arr=source_defaults($(this)),$.ajax(arr[0],{dataType:"text",success:function(e){$("#source").text(decodeURIComponent(e)),arr[1]===!0&&$("#source").each(function(e,t){hljs.highlightBlock(t)})}}),viewer.modal("show")}),$(".highlight").click(function(e){e.preventDefault(),$(".highlight").attr("disabled","disabled"),$("#source").each(function(e,t){hljs.highlightBlock(t)});var t=$("code").css("background-color");$("pre").css("background-color",t)}),$(".text-modal").click(function(e){var t=modal_defaults($(this));set_modal('<pre id="text"></pre>',t[0],t[1],t[2]),$.ajax(t[0],{dataType:"text",success:function(e){$("#text").text(decodeURIComponent(e))}}).done(function(){viewer.modal("show")})}),$(".text-modal-alt").click(function(e){var t=modal_defaults($(this));set_modal('<pre id="text"></pre>',t[0],t[1],t[2]),$.ajax(t[0],{dataType:"text",success:function(e){$("#text").text(decodeURIComponent(e))}}),viewer.modal("show")}),viewer.on("hide.bs.modal",function(){var e=document.getElementById("player");e&&e.pause()}),viewer.on("hidden.bs.modal",function(){$(".highlight").addClass("hidden")}),$(".website-modal").click(function(e){var t=modal_defaults($(this));set_modal('<div class="viewer-wrapper"><iframe id="website" src="'+t[0]+'" width="100%" height="100%" frameborder="0"></iframe></div>',t[0],t[1],t[2]),viewer.modal("show")});
jQuery().searcher&&($("#bs-table").searcher({inputSelector:"#search"}),$("#search").keyup(function(e){27==e.keyCode&&$(this).val("")}));
jQuery().stupidtable&&$("#bs-table").stupidtable();